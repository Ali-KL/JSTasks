<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register-Validation</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="/rejister.css" />
  </head>

  <body>
    <div class="container">

      <div class="slide-image">
        <div id="demo" class="carousel slide" data-bs-ride="carousel">
          <!-- Indicators/dots -->
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
          </div>

          <!-- The slideshow/carousel -->
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="https://orangecodingacademy.com/assets/img/1.jpg" alt="" class="d-block" style="width: 100%" />
            </div>
            <div class="carousel-item">
              <img
                src="https://cdn.discordapp.com/attachments/993069562834731044/1008674947838791691/j2_-_Copy.jpg"
                alt=""
                class="d-block"
                style="width: 100%"
              />
            </div>
          </div>
        </div>
      </div>

      <div class="text">
        <div class="first">
          <nav class="navbar navbar-expand-sm bg-white navbar-white">
            <div class="container-fluid">
              <a class="navbar-brand" href="#"><img src="/orange-banner.png" /> </a>
              <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapsibleNavbar"
              >
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto me-4 my-3 my-lg-0">
                  <li class="nav-item">
                    <a class="nav-link active" href="page-one.html"><b>Help</b></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="#about"><b>Terms & Conditions</b></a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
        </div>

        <hr />

        <!--------------- form --------------- -->

        <form action="#" name="form">
          <p class="create">Create an account</p>

          <label for="mail">Email address</label><br />
          <input type="email" id="mail" name="email" /><br />
          <div id="mailErrMessage"></div>
          <p id="email_error">eg:Username@domain.com</p>
          <label for="number">Mobile </label><br />
          <input type="number" id="number" name="mobile" /><br />
          <div id="mobileErrMessage"></div>
          <p id="mobile_error">eg:077*******</p>
          <label for="password"> Create Password </label><br />
          <input type="password" id="password" name="password" /><br />
          <div id="passErrMessage"></div>
          <p id="pass_error">The Password should be between 6-18 characters.</p>

          <input class="check" type="checkbox" id="one" name="one" />

          <label for="one" id="checked_error">
            I agree to the <a href="www.google.com">terms & conditions</a> Orange.</label
          >
          <div id="agreeErrMsg"></div>

          <input class="check" type="checkbox" id="two" name="two" />
          <label for="two">Receive Coding Academy Newsletter.</label><br />
          <input id="subBtn" class="sign" type="submit" value="Sign up" /><br /><br />
          <button class="login"><a href="/login.html">Login</a></button>
          <!-- <input class="login" value="Already have an account?Login" /> -->
        </form>
      </div>
    </div>

    <script>
      // window.localStorage.clear();
      let myForm = document.forms.form;

      var emailInput = document.getElementById("mail");
      let mailFormat = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
      let mailErrMss = document.getElementById("mailErrMessage");

      var passwordInput = document.getElementById("password");
      let pwErrMessage = document.getElementById("passErrMessage");

      var mobileInput = document.getElementById("number");
      
      //let mobileVNo = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
      let mobileErrMessage = document.getElementById("mobileErrMessage");

      let agreeCheck = document.getElementById("one");
      let agreeErMsg = document.getElementById("agreeErrMsg");

      let sub = document.getElementsByClassName("sign");
      let btnSub = document.getElementById("subBtn");

      let emailV = "";
      let passwordV = "";

      btnSub.onclick = function (e) {
        let emailValid = false;
        let mobilelValid = false;
        let passwordlValid = false;

        //--------------------------
        if (!emailInput.value.match(mailFormat)) {
          mailErrMss.textContent = " Invalid Email";
          mailErrMss.style.color = "red";
          emailValid = false;
        } else {
          mailErrMss.textContent = "Valid Email";
          mailErrMss.style.color = "green";
          emailValid = true;
          emailV = emailInput.value;
          //window.localStorage.setItem("Email", emailInput.value);
        }
        //------
        if (mobileInput.value.length == 10) {
          mobileErrMessage.textContent = "Valid Mobile Number";
          mobileErrMessage.style.color = "green";
          mobilelValid = true;
        } else {
          mobileErrMessage.textContent = "Invalid Mobile Number";
          mobileErrMessage.style.color = "red";
          mobilelValid = false;
        }
        //------
        if (passwordInput.value.length >= 6 && passwordInput.value.length <= 18) {
          pwErrMessage.textContent = "Valid Password";
          pwErrMessage.style.color = "green";
          passwordlValid = true;
          passwordV = passwordInput.value;
          //window.localStorage.setItem("Password", passwordInput.value);
        } else {
          pwErrMessage.textContent = "Invalid Password";
          pwErrMessage.style.color = "red";
          passwordlValid = false;
        }
        //------
        if (agreeCheck.checked == true) {
          agreeErMsg.textContent = "You Agreed";
          agreeErMsg.style.color = "green";
        } else {
          agreeErMsg.textContent = "You Have To Agree";
          agreeErMsg.style.color = "red";
        }
        //------
        if (emailValid === false || mobilelValid === false || passwordlValid === false) {
          e.preventDefault();
        }
        //------
        if (emailValid === true && passwordlValid === true) {
          let formData = JSON.parse(localStorage.getItem("formData")) || [];
          formData.push({ emailV, passwordV });
          localStorage.setItem("formData", JSON.stringify(formData));
        }
      };
    </script>
  </body>
</html>
